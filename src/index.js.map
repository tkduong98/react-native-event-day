{"version":3,"file":"index.js","sources":["../src/theme.ts","../src/commonStyles.ts","../src/utils.ts","../src/CalendarEvent.tsx","../src/CalendarBody.tsx","../src/CalendarHeader.tsx","../src/Calendar.tsx"],"sourcesContent":["export enum Color {\n  primary = 'rgb(66, 133, 244)',\n  red = '#C80B22',\n  yellow = '#F8E71C',\n  green = '#4AC001',\n  orange = '#E26245',\n  pink = '#5934C7',\n}\n","import { Platform, StyleSheet } from 'react-native'\nimport { Color } from './theme'\n\nexport const MIN_HEIGHT = 1200\nexport const HOUR_GUIDE_WIDTH = 50\nexport const OVERLAP_OFFSET = Platform.OS === 'web' ? 20 : 8\nexport const OVERLAP_PADDING = Platform.OS === 'web' ? 3 : 0\n\nexport const commonStyles = StyleSheet.create({\n  dateCell: {\n    borderWidth: 1,\n    borderColor: '#eee',\n    borderTopWidth: 0,\n    borderRightWidth: 0,\n  },\n  guideText: {\n    color: '#888',\n    fontSize: 11,\n    textAlign: 'center',\n  },\n  hourGuide: {\n    backgroundColor: '#fff',\n    zIndex: 1000,\n    width: HOUR_GUIDE_WIDTH,\n  },\n  eventCell: {\n    position: 'absolute' as const,\n    backgroundColor: Color.primary,\n    zIndex: 100,\n    start: 3,\n    end: 3,\n    borderRadius: 3,\n    padding: 4,\n    overflow: 'hidden',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.2,\n    shadowRadius: 1,\n    elevation: 2,\n    minWidth: '33%',\n  },\n  eventTitle: {\n    color: '#fff',\n    fontSize: 12,\n  },\n})\n","import dayjs from 'dayjs'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport { OVERLAP_OFFSET, OVERLAP_PADDING } from '../src/commonStyles'\nimport { DayJSConvertedEvent, Mode, WeekNum } from './interfaces'\nimport { Color } from './theme'\n\nexport const DAY_MINUTES = 1440\n\nexport function getDatesInWeek(\n  date: Date | dayjs.Dayjs = new Date(),\n  weekStartsOn: WeekNum = 0,\n  locale = 'en',\n) {\n  const subject = dayjs(date)\n  const subjectDOW = subject.day()\n  const days = Array(7)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i - subjectDOW + weekStartsOn, 'day').locale(locale)\n    })\n\n  return days\n}\n\nexport function getDatesInNextThreeDays(date: Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date).locale(locale)\n  const days = Array(3)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i, 'day')\n    })\n\n  return days\n}\n\nexport function getDatesInNextOneDay(date: Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date).locale(locale)\n  const days = Array(1)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i, 'day')\n    })\n\n  return days\n}\n\nexport const hours = Array(24)\n  .fill(0)\n  .map((_, i) => i)\n\nexport function formatHour(hour: number) {\n  return `${hour}:00`\n}\n\nexport function isToday(date: dayjs.Dayjs) {\n  const today = dayjs()\n  return today.isSame(date, 'day')\n}\n\nexport function getRelativeTopInDay(date = dayjs()) {\n  return (100 * (date.hour() * 60 + date.minute())) / DAY_MINUTES\n}\n\nexport function todayInMinutes() {\n  const today = dayjs()\n  return today.diff(dayjs().startOf('day'), 'minute')\n}\n\nexport function modeToNum(mode: Mode) {\n  switch (mode) {\n    case '3days':\n      return 3\n    case 'week':\n      return 7\n    default:\n      throw new Error('undefined mode')\n  }\n}\n\nexport function formatStartEnd(event: DayJSConvertedEvent) {\n  return `${event.start.format('HH:mm')} - ${event.end.format('HH:mm')}`\n}\n\nexport function isAllDayEvent(event: DayJSConvertedEvent) {\n  return (\n    event.start.hour() === 0 &&\n    event.start.minute() === 0 &&\n    event.end.hour() === 0 &&\n    event.end.minute() === 0\n  )\n}\n\nexport function getCountOfEventsAtEvent(\n  event: DayJSConvertedEvent,\n  eventList: DayJSConvertedEvent[],\n) {\n  dayjs.extend(isBetween)\n  return eventList.filter(\n    (e) =>\n      event.start.isBetween(e.start, e.end, 'minute', '[)') ||\n      e.start.isBetween(event.start, event.end, 'minute', '[)'),\n  ).length\n}\n\nexport function getOrderOfEvent(event: DayJSConvertedEvent, eventList: DayJSConvertedEvent[]) {\n  dayjs.extend(isBetween)\n  const events = eventList\n    .filter(\n      (e) =>\n        event.start.isBetween(e.start, e.end, 'minute', '[)') ||\n        e.start.isBetween(event.start, event.end, 'minute', '[)'),\n    )\n    .sort((a, b) => {\n      if (a.start.isSame(b.start)) {\n        return a.start.diff(a.end) < b.start.diff(b.end) ? -1 : 1\n      } else {\n        return a.start.isBefore(b.start) ? -1 : 1\n      }\n    })\n  return events.indexOf(event)\n}\n\nfunction getColorForEventPosition(eventPosition: number) {\n  switch (eventPosition % 5) {\n    case 0:\n      return Color.primary\n    case 1:\n      return Color.orange\n    case 2:\n      return Color.green\n    case 3:\n      return Color.red\n    case 4:\n      return Color.pink\n    default:\n      return Color.primary\n  }\n}\n\nexport function getStyleForOverlappingEvent(eventCount: number, eventPosition: number) {\n  let overlapStyle = {}\n  if (eventCount > 1) {\n    const normalizedPosition = eventPosition + 1\n    const start = eventPosition * OVERLAP_OFFSET\n    const end =\n      eventCount === normalizedPosition ? 0 : (eventCount - normalizedPosition) * OVERLAP_OFFSET\n    const zIndex = 100 + eventPosition\n    overlapStyle = {\n      start: start + OVERLAP_PADDING,\n      end: end + OVERLAP_PADDING,\n      backgroundColor: getColorForEventPosition(eventPosition),\n      zIndex,\n    }\n  }\n  return overlapStyle\n}\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { StyleSheet, Text, TouchableOpacity } from 'react-native'\nimport { commonStyles } from './commonStyles'\nimport { DayJSConvertedEvent, Event, EventCellStyle } from './interfaces'\nimport {\n  DAY_MINUTES,\n  formatStartEnd,\n  getRelativeTopInDay,\n  getStyleForOverlappingEvent,\n} from './utils'\n\nfunction getEventCellPositionStyle({ end, start }: { end: dayjs.Dayjs; start: dayjs.Dayjs }) {\n  const relativeHeight = 100 * (1 / DAY_MINUTES) * end.diff(start, 'minute')\n  const relativeTop = getRelativeTopInDay(start)\n  return {\n    height: `${relativeHeight}%`,\n    top: `${relativeTop}%`,\n  }\n}\n\ninterface CalendarBodyProps<T> {\n  event: DayJSConvertedEvent\n  onPressEvent?: (event: Event<T>) => void\n  eventCellStyle?: EventCellStyle<T>\n  showTime: boolean\n  eventCount?: number\n  eventOrder?: number\n}\n\nexport const CalendarEvent = React.memo(\n  ({\n    event,\n    onPressEvent,\n    eventCellStyle,\n    showTime,\n    eventCount = 1,\n    eventOrder = 0,\n  }: CalendarBodyProps<any>) => {\n    const getEventStyle = React.useMemo(\n      () => (typeof eventCellStyle === 'function' ? eventCellStyle : (_: any) => eventCellStyle),\n      [eventCellStyle],\n    )\n\n    const _onPress = React.useCallback(\n      (event: DayJSConvertedEvent) => {\n        onPressEvent && onPressEvent(event)\n      },\n      [event],\n    )\n\n    return (\n      <TouchableOpacity\n        delayPressIn={20}\n        key={event.start.toString()}\n        style={[\n          commonStyles.eventCell,\n          getEventCellPositionStyle(event),\n          getStyleForOverlappingEvent(eventCount, eventOrder),\n          getEventStyle(event),\n        ]}\n        onPress={() => _onPress(event)}\n        disabled={!onPressEvent}\n      >\n        {event.end.diff(event.start, 'minute') < 32 && showTime ? (\n          <Text style={commonStyles.eventTitle}>\n            {event.title},<Text style={styles.eventTime}>{event.start.format('HH:mm')}</Text>\n          </Text>\n        ) : (\n          <>\n            <Text style={commonStyles.eventTitle}>{event.title}</Text>\n            {showTime && <Text style={styles.eventTime}>{formatStartEnd(event)}</Text>}\n            {event.children && event.children}\n          </>\n        )}\n      </TouchableOpacity>\n    )\n  },\n)\n\nconst styles = StyleSheet.create({\n  eventTime: {\n    color: '#fff',\n    fontSize: 10,\n  },\n})\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport {\n  PanResponder,\n  Platform,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableWithoutFeedback,\n  View,\n  ViewStyle,\n} from 'react-native'\nimport { CalendarEvent } from './CalendarEvent'\nimport { commonStyles } from './commonStyles'\nimport { DayJSConvertedEvent, Event, EventCellStyle, HorizontalDirection } from './interfaces'\nimport {\n  formatHour,\n  getCountOfEventsAtEvent,\n  getOrderOfEvent,\n  getRelativeTopInDay,\n  hours,\n  isToday,\n} from './utils'\n\nconst SWIPE_THRESHOLD = 50\n\ninterface CalendarBodyProps<T> {\n  containerHeight: number\n  cellHeight: number\n  dateRange: dayjs.Dayjs[]\n  dayJsConvertedEvents: DayJSConvertedEvent[]\n  style: ViewStyle\n  onPressEvent?: (event: Event<T>) => void\n  onPressCell?: (date: Date) => void\n  eventCellStyle?: EventCellStyle<T>\n  scrollOffsetMinutes: number\n  showTime: boolean\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n}\n\ninterface WithCellHeight {\n  cellHeight: number\n}\n\nconst HourGuideColumn = React.memo(\n  ({ cellHeight, hour }: WithCellHeight & { hour: number }) => (\n    <View style={{ height: cellHeight }}>\n      <Text style={commonStyles.guideText}>{formatHour(hour)}</Text>\n    </View>\n  ),\n  () => true,\n)\n\ninterface HourCellProps extends WithCellHeight {\n  onPress: (d: dayjs.Dayjs) => void\n  date: dayjs.Dayjs\n  hour: number\n}\n\nfunction HourCell({ cellHeight, onPress, date, hour }: HourCellProps) {\n  return (\n    <TouchableWithoutFeedback onPress={() => onPress(date.hour(hour).minute(0))}>\n      <View style={[commonStyles.dateCell, { height: cellHeight }]} />\n    </TouchableWithoutFeedback>\n  )\n}\n\nexport const CalendarBody = React.memo(\n  ({\n    containerHeight,\n    cellHeight,\n    dateRange,\n    style = {},\n    onPressCell,\n    dayJsConvertedEvents,\n    onPressEvent,\n    eventCellStyle,\n    showTime,\n    scrollOffsetMinutes,\n    onSwipeHorizontal,\n  }: CalendarBodyProps<any>) => {\n    const scrollView = React.useRef<ScrollView>(null)\n    const [now, setNow] = React.useState(dayjs())\n    const [panHandled, setPanHandled] = React.useState(false)\n\n    React.useEffect(() => {\n      if (scrollView.current && scrollOffsetMinutes) {\n        // We add delay here to work correct on React Native\n        // see: https://stackoverflow.com/questions/33208477/react-native-android-scrollview-scrollto-not-working\n        setTimeout(\n          () => {\n            scrollView.current!.scrollTo({\n              y: (cellHeight * scrollOffsetMinutes) / 60,\n              animated: false,\n            })\n          },\n          Platform.OS === 'web' ? 0 : 10,\n        )\n      }\n    }, [scrollView.current])\n\n    React.useEffect(() => {\n      const pid = setInterval(() => setNow(dayjs()), 2 * 60 * 1000)\n      return () => clearInterval(pid)\n    }, [])\n\n    const panResponder = React.useMemo(\n      () =>\n        PanResponder.create({\n          // see https://stackoverflow.com/questions/47568850/touchableopacity-with-parent-panresponder\n          onMoveShouldSetPanResponder: (_, { dx, dy }) => {\n            return dx > 2 || dx < -2 || dy > 2 || dy < -2\n          },\n          onPanResponderMove: (_, { dy, dx }) => {\n            if (dy < -1 * SWIPE_THRESHOLD || SWIPE_THRESHOLD < dy || panHandled) {\n              return\n            }\n            if (dx < -1 * SWIPE_THRESHOLD) {\n              onSwipeHorizontal && onSwipeHorizontal('LEFT')\n              setPanHandled(true)\n              return\n            }\n            if (dx > SWIPE_THRESHOLD) {\n              onSwipeHorizontal && onSwipeHorizontal('RIGHT')\n              setPanHandled(true)\n              return\n            }\n          },\n          onPanResponderEnd: () => {\n            setPanHandled(false)\n          },\n        }),\n      [panHandled, onSwipeHorizontal],\n    )\n\n    const _onPressCell = React.useCallback(\n      (date: dayjs.Dayjs) => {\n        onPressCell && onPressCell(date.toDate())\n      },\n      [onPressCell],\n    )\n\n    return (\n      <ScrollView\n        style={[\n          {\n            height: containerHeight - cellHeight * 3,\n          },\n          style,\n        ]}\n        ref={scrollView}\n        scrollEventThrottle={32}\n        {...(Platform.OS !== 'web' ? panResponder.panHandlers : {})}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={[styles.body]} {...(Platform.OS === 'web' ? panResponder.panHandlers : {})}>\n          <View style={[commonStyles.hourGuide]}>\n            {hours.map((hour) => (\n              <HourGuideColumn key={hour} cellHeight={cellHeight} hour={hour} />\n            ))}\n          </View>\n          {dateRange.map((date) => (\n            <View style={[{ flex: 1 }]} key={date.toString()}>\n              {hours.map((hour) => (\n                <HourCell\n                  key={hour}\n                  cellHeight={cellHeight}\n                  date={date}\n                  hour={hour}\n                  onPress={_onPressCell}\n                />\n              ))}\n              {dayJsConvertedEvents\n                .filter(\n                  ({ start, end }) =>\n                    start.isAfter(date.startOf('day')) && end.isBefore(date.endOf('day')),\n                )\n                .map((event) => (\n                  <CalendarEvent\n                    key={`${event.start}${event.title}`}\n                    event={event}\n                    onPressEvent={onPressEvent}\n                    eventCellStyle={eventCellStyle}\n                    showTime={showTime}\n                    eventCount={getCountOfEventsAtEvent(event, dayJsConvertedEvents)}\n                    eventOrder={getOrderOfEvent(event, dayJsConvertedEvents)}\n                  />\n                ))}\n              {isToday(date) && (\n                <View style={[styles.nowIndicator, { top: `${getRelativeTopInDay(now)}%` }]} />\n              )}\n            </View>\n          ))}\n        </View>\n      </ScrollView>\n    )\n  },\n)\n\nconst styles = StyleSheet.create({\n  body: {\n    flexDirection: 'row',\n    flex: 1,\n  },\n  nowIndicator: {\n    position: 'absolute',\n    zIndex: 10000,\n    backgroundColor: 'red',\n    height: 2,\n    width: '100%',\n  },\n})\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { StyleSheet, Text, TouchableOpacity, View, ViewStyle } from 'react-native'\nimport { commonStyles } from './commonStyles'\nimport { Event } from './interfaces'\nimport { Color } from './theme'\nimport { isToday } from './utils'\n\ninterface CalendarHeaderProps<T> {\n  dateRange: dayjs.Dayjs[]\n  cellHeight: number\n  style: ViewStyle\n  allDayEvents: Event<T>[]\n  onPressDateHeader?: (date: Date) => void\n}\n\nexport const CalendarHeader = React.memo(\n  ({\n    dateRange,\n    cellHeight,\n    style = {},\n    allDayEvents,\n    onPressDateHeader,\n  }: CalendarHeaderProps<any>) => {\n    const _onPress = React.useCallback(\n      (date: Date) => {\n        onPressDateHeader && onPressDateHeader(date)\n      },\n      [onPressDateHeader],\n    )\n\n    return (\n      <View style={[styles.container, style]}>\n        <View style={[commonStyles.hourGuide, styles.hourGuideSpacer]} />\n        {dateRange.map((date) => {\n          const _isToday = isToday(date)\n          return (\n            <TouchableOpacity\n              style={{ flex: 1, paddingTop: 2 }}\n              onPress={() => _onPress(date.toDate())}\n              disabled={onPressDateHeader === undefined}\n              key={date.toString()}\n            >\n              <View style={{ height: cellHeight, justifyContent: 'space-between' }}>\n                <Text style={[commonStyles.guideText, _isToday && { color: Color.primary }]}>\n                  {date.format('ddd')}\n                </Text>\n                <View style={_isToday && styles.todayWrap}>\n                  <Text style={[styles.dateText, _isToday && { color: '#fff' }]}>\n                    {date.format('D')}\n                  </Text>\n                </View>\n              </View>\n              <View style={[commonStyles.dateCell, { height: cellHeight }]}>\n                {allDayEvents.map((event) => {\n                  if (!event.start.isSame(date, 'day')) {\n                    return null\n                  }\n                  return (\n                    <View style={commonStyles.eventCell}>\n                      <Text style={commonStyles.eventTitle}>{event.title}</Text>\n                    </View>\n                  )\n                })}\n              </View>\n            </TouchableOpacity>\n          )\n        })}\n      </View>\n    )\n  },\n)\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n  },\n  dateText: {\n    color: '#444',\n    fontSize: 22,\n    textAlign: 'center',\n    marginTop: 6,\n  },\n  todayWrap: {\n    backgroundColor: Color.primary,\n    width: 36,\n    height: 36,\n    borderRadius: 50,\n    marginTop: 6,\n    paddingBottom: 4,\n    justifyContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  hourGuideSpacer: {\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n  },\n})\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { ViewStyle } from 'react-native'\nimport { CalendarBody } from './CalendarBody'\nimport { CalendarHeader } from './CalendarHeader'\nimport { MIN_HEIGHT } from './commonStyles'\nimport {\n  DateRangeHandler,\n  Event,\n  EventCellStyle,\n  HorizontalDirection,\n  Mode,\n  WeekNum,\n} from './interfaces'\nimport {\n  getDatesInNextOneDay,\n  getDatesInNextThreeDays,\n  getDatesInWeek,\n  isAllDayEvent,\n  modeToNum,\n} from './utils'\n\ninterface CalendarProps<T = {}> {\n  events: Event<T>[]\n  height: number\n  mode?: Mode\n  style?: ViewStyle\n  eventCellStyle?: EventCellStyle<T>\n  scrollOffsetMinutes?: number\n  date?: Date\n  swipeEnabled?: boolean\n  showTime?: boolean\n  weekStartsOn?: WeekNum\n  locale?: string\n  onChangeDate?: DateRangeHandler\n  onPressEvent?: (event: Event<T>) => void\n  onPressDateHeader?: (date: Date) => void\n  onPressCell?: (date: Date) => void\n}\n\nexport const Calendar = React.memo(\n  ({\n    events,\n    style = {},\n    height,\n    mode = 'week',\n    locale = 'en',\n    eventCellStyle,\n    date,\n    scrollOffsetMinutes = 0,\n    swipeEnabled = true,\n    weekStartsOn = 0,\n    showTime = true,\n    onPressEvent,\n    onPressDateHeader,\n    onChangeDate,\n    onPressCell,\n  }: CalendarProps) => {\n    const [targetDate, setTargetDate] = React.useState(dayjs(date))\n\n    React.useEffect(() => {\n      if (date) {\n        setTargetDate(dayjs(date))\n      }\n    }, [date])\n\n    const dayJsConvertedEvents = React.useMemo(\n      () => events.map((e) => ({ ...e, start: dayjs(e.start), end: dayjs(e.end) })),\n      [events],\n    )\n\n    const allDayEvents = React.useMemo(() => dayJsConvertedEvents.filter(isAllDayEvent), [\n      dayJsConvertedEvents,\n    ])\n\n    const daytimeEvents = React.useMemo(\n      () => dayJsConvertedEvents.filter((x) => !isAllDayEvent(x)),\n      [dayJsConvertedEvents],\n    )\n\n    const dateRange = React.useMemo(() => {\n      switch (mode) {\n        case '3days':\n          return getDatesInNextThreeDays(targetDate, locale)\n        case 'week':\n          return getDatesInWeek(targetDate, weekStartsOn, locale)\n        case 'day':\n          return getDatesInNextOneDay(targetDate, locale)\n        default:\n          throw new Error('undefined mode')\n      }\n    }, [mode, targetDate])\n\n    React.useEffect(() => {\n      if (onChangeDate) {\n        onChangeDate([dateRange[0].toDate(), dateRange.slice(-1)[0].toDate()])\n      }\n    }, [dateRange, onChangeDate])\n\n    const cellHeight = React.useMemo(() => Math.max(height - 30, MIN_HEIGHT) / 24, [height])\n\n    const onSwipeHorizontal = React.useCallback(\n      (direction: HorizontalDirection) => {\n        if (!swipeEnabled) {\n          return\n        }\n        if (direction === 'LEFT') {\n          setTargetDate(targetDate.add(modeToNum(mode), 'day'))\n        } else {\n          setTargetDate(targetDate.add(modeToNum(mode) * -1, 'day'))\n        }\n      },\n      [swipeEnabled, targetDate],\n    )\n\n    const commonProps = {\n      cellHeight,\n      dateRange,\n      style,\n    }\n\n    return (\n      <>\n        <CalendarHeader\n          {...commonProps}\n          allDayEvents={allDayEvents}\n          onPressDateHeader={onPressDateHeader}\n        />\n        <CalendarBody\n          {...commonProps}\n          dayJsConvertedEvents={daytimeEvents}\n          containerHeight={height}\n          onPressEvent={onPressEvent}\n          onPressCell={onPressCell}\n          eventCellStyle={eventCellStyle}\n          scrollOffsetMinutes={scrollOffsetMinutes}\n          showTime={showTime}\n          onSwipeHorizontal={onSwipeHorizontal}\n        />\n      </>\n    )\n  },\n)\n"],"names":["Platform","StyleSheet","dayjs","isBetween","React.memo","React.useMemo","React.useCallback","React.createElement","TouchableOpacity","Text","View","TouchableWithoutFeedback","React.useRef","React.useState","React.useEffect","PanResponder","ScrollView","styles"],"mappings":"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"}